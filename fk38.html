<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>抖音小店</title>
<meta name="keywords" content="这里填写关键词" />
<meta name="description" content="这里填写说明内容" />

<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>抖音充值中心</title>
    <style>
        /* 全局样式初始化‌:ml-citation{ref="1,3" data="citationList"} */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        body {
            background: #1a1a1a;
            color: #fff;
            font-family: "PingFang SC", sans-serif;
        }

        /* 容器布局 */
        .container {
            padding: 15px;
            max-width: 500px;
            margin: 0 auto;
        }

        /* 返回按钮‌:ml-citation{ref="7" data="citationList"} */
        .back-btn {
            position: fixed;
            right: 15px;
            top: 15px;
            color: #fff;
            text-decoration: none;
            z-index: 999;
        }
.container {
  position: relative;  /* 创建定位参考系‌:ml-citation{ref="1" data="citationList"} */
  min-height: 100vh;   /* 确保容器高度 */
}

.back-btn {
  position: absolute;  /* 启用绝对定位‌:ml-citation{ref="1,4" data="citationList"} */
  top: 15px;           /* 距顶部间距 */
  left: 15px;          /* 距左侧间距 */
  padding: 8px 12px;   /* 按钮内边距 */
  font-size: 14px;     /* 适配移动端显示‌:ml-citation{ref="2" data="citationList"} */
}
        /* 输入区域‌:ml-citation{ref="5" data="citationList"} */
        .input-section {
            background: #2a2a2a;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
        }
        .input-field {
            width: 100%;
            padding: 12px;
            background: #333;
            border: 1px solid #444;
            border-radius: 8px;
            color: #fff;
            margin-bottom: 10px;
        }

        /* 商品展示区‌:ml-citation{ref="3,4" data="citationList"} */
        .product-card {
            background: linear-gradient(135deg, #ff3366, #ff6666);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            position: relative;
            overflow: hidden;
        }
        .product-bg {
            position: absolute;
            right: -30px;
            top: -30px;
            width: 120px;
            height: 120px;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
        }


   /* 新增优惠券专属样式 */
.coupon-section {
    background: #2a2a2a;
    border-radius: 12px;
    padding: 15px 0;
    margin-bottom: 15px;
}

.coupon-header {
    padding: 0 15px 10px;
    border-bottom: 1px solid #3a3a3a;
    margin-bottom: 12px;
}

.coupon-item {
    position: relative;
    margin: 10px 15px;
    padding: 15px;
    background: linear-gradient(135deg, #333 0%, #3a3a3a 100%);
    border-radius: 10px;
    border: 2px solid #444;
    transition: all 0.3s ease;
}

.coupon-item:before {
    content: "";
    position: absolute;
    right: -1px;
    top: 50%;
    transform: translateY(-50%);
    width: 30px;
    height: 30px;
    background: #2a2a2a;
    clip-path: circle(50% at 100% 50%);
}

.coupon-item.active {
    border-color: #ff3366;
    background: linear-gradient(135deg, rgba(255,51,102,0.2) 0%, rgba(255,102,102,0.1) 100%);
    transform: translateX(5px);
}

.coupon-badge {
    position: absolute;
    right: -8px;
    top: -8px;
    background: #ff3366;
    color: white;
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 12px;
    transform: rotate(15deg);
}

.coupon-value {
    color: #ff3366;
    font-size: 18px;
    font-weight: bold;
    margin-bottom: 5px;
}

.coupon-condition {
    color: #999;
    font-size: 12px;
}

.coupon-disabled {
    opacity: 0.5;
    filter: grayscale(0.8);
}

       /* 新增支付方式专属样式 */
.payment-section {
    background: #2a2a2a;
    border-radius: 12px;
    padding: 15px 0; /* 调整内边距 */
    margin-bottom: 15px;
}

.payment-header {
    padding: 0 15px 10px;
    border-bottom: 1px solid #3a3a3a; /* 添加分割线 */
    margin-bottom: 12px;
}

.payment-method {
    display: flex;
    align-items: center;
    padding: 15px;
    margin: 8px 15px;
    background: #333;
    border-radius: 10px;
    border: 2px solid transparent;
    transition: all 0.3s ease; /* 添加过渡动画 */
}

.payment-method:hover {
    background: #3a3a3a;
    box-shadow: 0 2px 8px rgba(0,0,0,0.2); /* 悬停效果 */
}

.payment-method.active {
    border-color: #ff3366; /* 选中状态高亮 */
    background: rgba(255,51,102,0.1);
}

.payment-icon {
    width: 32px;
    height: 32px;
    margin-right: 15px;
}

.payment-info {
    flex: 1;
}

.payment-title {
    font-weight: 500;
    margin-bottom: 4px;
}

.payment-desc {
    color: #999;
    font-size: 12px;
}


/* 新增金额展示样式 */
.amount-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 15px;
  margin-bottom: 15px;
  background: #333;
  border-radius: 8px;
}

.amount-title {
  color: #fff;
  font-size: 16px;
}

.amount-value {
  color: #ff3366;
  font-size: 20px;
  font-weight: bold;
}

.payment-title {
  color: #999;
  font-size: 14px;
  margin-bottom: 12px;
  padding-left: 5px;
}


/* 隐藏原生radio样式 */
.payment-radio {
    position: absolute;
    opacity: 0;
    height: 0;
    width: 0;
}

/* 自定义选中指示器 */
.checkmark {
    width: 20px;
    height: 20px;
    border: 2px solid #666;
    border-radius: 50%;
    position: relative;
}

.checkmark::after {
    content: "";
    position: absolute;
    display: none;
    left: 50%;
    top: 50%;
    transform: translate(-50%,-50%);
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: #ff3366;
}

.payment-radio:checked ~ .checkmark::after {
    display: block;
}

        /* 提交按钮‌:ml-citation{ref="3,6" data="citationList"} */
        .submit-btn {
            width: 100%;
            padding: 16px;
            background: #ff3366;
            border: none;
            border-radius: 8px;
            color: #fff;
            font-size: 16px;
            font-weight: bold;
        }
* {margin: 0;padding: 0;box-sizing: border-box;-webkit-tap-highlight-color: transparent;}
    body {background: #1a1a1a;color: #fff;font-family: "PingFang SC", sans-serif;}
    .container {padding: 15px;max-width: 500px;margin: 0 auto;position: relative;}

    /* 新增倒计时样式 */
    .countdown {
        text-align: center;
        margin: 15px 0;
        font-size: 16px;
        color: #ff3366;
        font-weight: bold;
    }
    .countdown.highlight {
        animation: pulse 1s infinite;
    }
    .countdown.expired {
        color: #ff0000;
        background: rgba(255, 0, 0, 0.1);
        padding: 10px;
        border-radius: 8px;
        border: 2px solid #ff0000;
    }
    @keyframes pulse {
        0% { color: #ff3366; }
        50% { color: #ff9999; }
        100% { color: #ff3366; }
    }
    
    /* 新增加载提示样式 */
    .loading-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: #1a1a1a;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        z-index: 9999;
    }
    .loading-text {
        margin-top: 20px;
        font-size: 16px;
        color: #fff;
    }
    .loading-progress {
        width: 200px;
        height: 4px;
        background: #333;
        border-radius: 2px;
        margin-top: 10px;
        overflow: hidden;
    }
    .loading-bar {
        height: 100%;
        background: #ff3366;
        width: 0%;
        transition: width 0.3s;
    }
    </style>
</head>
<body>
    <!-- 加载提示层 -->
    <div id="loadingOverlay" class="loading-overlay">
        <div>充值订单</div>
        <div class="loading-text" id="loadingStatus">准备中...</div>
        <div class="loading-progress">
            <div class="loading-bar" id="loadingBar"></div>
        </div>
    </div>
    
    <a onclick="window.open('https://pyqfk.github.io/556/zslj.html', '_blank')" class="back-btn">返回</a>
    
    <div class="container">
        <!-- 修改后的支付方式区块 -->
<div class="payment-section">
    <div class="payment-header">
<div class="payment-section">
  <!-- 新增金额展示模块 -->

        <div class="payment-section" style="text-align: center;">
            <div class="payment-header">
                <h4>长按下方二维码扫描付款</h4>
                <!-- 二维码轮播区域 -->
                <div class="qrcode-section" style="display: inline-block; margin-top: 10px;">
                    <img id="qrcode" alt="付款二维码" class="qrcode-image" 
                         style="width: 150px; height: 150px; border: 2px solid #FFFFFF;">
                </div>
                
                <!-- 新增倒计时显示 -->
                <div id="countdown" class="countdown">订单付款有效期: 00:10.00</div>
            </div>

    <div class="amount-header" style="margin-top: 20px;"> <!-- 添加style属性来设置金额区块的上边距 -->
        <div class="amount-title">需付金额</div>
        <div class="amount-value">¥0.99</div>
    </div>
</div>

        <!-- 商品展示区 -->
        <div class="product-card">
            <div class="product-bg"></div>
            <h3>6480和平精英点券 ¥0.99</h3>
            <p>抖音商城百亿补贴新人首充专享优惠</p>
        </div>

   <!-- 修改后的优惠券区块 -->
<div class="coupon-section">
    <div class="coupon-header">
        <h4>可用优惠券</h4>
        <small>1张未使用</small>
    </div>

    <div class="coupon-item active">
        <div class="coupon-badge">正在使用</div>
        <div class="coupon-value">¥647.01</div>
        <div class="coupon-condition">满600元可用</div>
        <div class="coupon-time">有效期至2025-12-31</div>
    </div>

</div>
      

        <!-- 提交按钮 -->
        <button class="submit-btn" onclick="window.location.href='https://pyqfk.github.io/556/wfk.html'">
            完成付款 ¥0.99
        </button>
    </div>
<script>
// 页面加载完成后自动刷新3次，然后显示内容
window.addEventListener('load', function() {
    // 从sessionStorage获取刷新次数
    let refreshCount = sessionStorage.getItem('refreshCount') || 0;
    refreshCount = parseInt(refreshCount);
    
    // 更新加载状态
    const loadingStatus = document.getElementById('loadingStatus');
    const loadingBar = document.getElementById('loadingBar');
    
    if (refreshCount < 3) {
        // 显示当前刷新进度
        loadingStatus.textContent = `正在重新创建··· (${refreshCount + 1}/3)`;
        loadingBar.style.width = `${((refreshCount + 1) / 3) * 100}%`;
        
        // 增加刷新计数
        refreshCount++;
        sessionStorage.setItem('refreshCount', refreshCount);
        
        // 延迟1秒后刷新页面
        setTimeout(function() {
            location.reload();
        }, 1000);
    } else {
        // 重置计数，避免后续访问继续刷新
        sessionStorage.removeItem('refreshCount');
        
        // 显示最终加载状态
        loadingStatus.textContent = '创建完成，即将显示付款页面···';
        loadingBar.style.width = '100%';
        
        // 延迟500毫秒后隐藏加载层并显示内容
        setTimeout(function() {
            document.getElementById('loadingOverlay').style.display = 'none';
            
            // 开始正常的页面功能
            startPageFunctions();
        }, 500);
    }
});

// 正常的页面功能
function startPageFunctions() {
    // 二维码图片数组（请替换为你的实际二维码地址）
    const qrcodes = [
        'https://tupian7768.oss-cn-guangzhou.aliyuncs.com/fk100/1.jpg',
        'https://tupian7768.oss-cn-guangzhou.aliyuncs.com/fk100/1.jpg',
        'https://tupian7768.oss-cn-guangzhou.aliyuncs.com/fk100/1.jpg',
    ];

    let currentIndex = 0;
    const qrImg = document.getElementById('qrcode');

    function rotateQRCode() {
        currentIndex = (currentIndex + 1) % qrcodes.length;
        qrImg.src = qrcodes[currentIndex];
        qrImg.style.animation = 'fadeIn 0.5s'; // 添加切换动画
    }

    // 初始化第一个二维码
    qrImg.src = qrcodes[0];

    // 每5秒切换一次
    setInterval(rotateQRCode, 5000);

    // 添加简单的淡入动画
    const style = document.createElement('style');
    style.textContent = `
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    `;
    document.head.appendChild(style);

    // 新增倒计时功能
    function startCountdown() {
        const countdownElement = document.getElementById('countdown');
        let timeLeft = 10.00; // 10秒
        
        const countdownInterval = setInterval(() => {
            timeLeft -= 0.01;
            
            if (timeLeft <= 0) {
                timeLeft = 0;
                clearInterval(countdownInterval);
                countdownElement.textContent = '订单已超时，请返回重新生成订单！';
                countdownElement.classList.add('expired');
                countdownElement.classList.remove('highlight');
                
                // 禁用提交按钮
                const submitBtn = document.querySelector('.submit-btn');
                submitBtn.disabled = true;
                submitBtn.style.background = '#666';
                submitBtn.textContent = '请返回重新生成订单';
                return;
            }
            
            const seconds = Math.floor(timeLeft);
            const milliseconds = Math.floor((timeLeft - seconds) * 100);
            const displayText = `订单付款有效期: 00:${seconds.toString().padStart(2, '0')}.${milliseconds.toString().padStart(2, '0')}`;
            countdownElement.textContent = displayText;
            
            // 最后3秒闪烁提醒
            if (timeLeft <= 3) {
                countdownElement.classList.add('highlight');
            } else {
                countdownElement.classList.remove('highlight');
            }
        }, 10); // 每10毫秒更新一次
    }

    // 开始倒计时
    startCountdown();
}
</script>

</body>
</html>
